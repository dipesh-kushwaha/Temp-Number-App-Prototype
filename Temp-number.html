<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NepalTemp | Massive Suite</title>
    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --bg-dark: #050505;
            --bg-card: #121212;
            --bg-lighter: #1E1E1E;
            --primary: #DC143C; /* Crimson */
            --primary-glow: rgba(220, 20, 60, 0.4);
            --gold: #FFD700; /* Premium Gold */
            --gold-glow: rgba(255, 215, 0, 0.3);
            --esewa: #41A124;
            --ntc: #00add0;
            --ncell: #a036b1;
            --text-main: #ffffff;
            --text-muted: #888888;
            --border: #2a2a2a;
            --input-bg: #222;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- UTILITIES --- */
        .hidden { display: none !important; }
        .bold { font-weight: 700; }
        
        /* --- HEADER --- */
        header {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 100;
        }
        .logo { font-size: 1.1rem; font-weight: 900; letter-spacing: 1px; }
        .logo span { color: var(--primary); }
        .logo.premium-active span { color: var(--gold); }
        .user-status { font-size: 0.75rem; background: #222; padding: 4px 10px; border-radius: 20px; border: 1px solid #333; }

        /* --- MAIN CONTENT --- */
        main { flex: 1; overflow-y: auto; padding: 15px; padding-bottom: 90px; }

        /* --- SECTIONS --- */
        .section-title {
            font-size: 0.9rem; text-transform: uppercase; color: var(--text-muted);
            margin: 20px 0 10px 0; letter-spacing: 1px; font-weight: 700;
        }

        /* --- CARDS --- */
        .card-list { display: flex; flex-direction: column; gap: 12px; }
        
        .generic-card {
            background: var(--bg-card); border: 1px solid var(--border); border-radius: 16px;
            padding: 15px; display: flex; align-items: center; justify-content: space-between;
            transition: 0.2s; cursor: pointer; position: relative; overflow: hidden;
        }
        .generic-card:active { transform: scale(0.98); background: var(--bg-lighter); }
        
        .info-block h3 { font-size: 1.1rem; font-family: monospace; letter-spacing: -0.5px; margin-bottom: 4px; }
        .meta-tags { display: flex; gap: 8px; font-size: 0.75rem; color: #777; align-items: center; }
        
        .badge { padding: 2px 6px; border-radius: 4px; font-weight: bold; font-size: 0.65rem; color: #fff; }
        .badge.ntc { background: var(--ntc); }
        .badge.ncell { background: var(--ncell); }
        .badge.gold { background: linear-gradient(45deg, #B8860B, var(--gold)); color: #000; }
        
        /* Lock Overlay */
        .locked-overlay {
            position: absolute; top:0; left:0; width:100%; height:100%;
            background: rgba(0,0,0,0.7); backdrop-filter: blur(4px);
            display: flex; align-items: center; justify-content: center; flex-direction: column;
            color: var(--gold); font-weight: bold; font-size: 0.9rem; z-index: 10;
        }

        /* --- TEMP MAIL UI --- */
        .mail-generator-box {
            background: #1a1a1a; padding: 20px; border-radius: 15px; text-align: center;
            border: 1px solid var(--border); margin-bottom: 20px;
        }
        .email-display {
            font-family: monospace; font-size: 1.1rem; color: var(--gold);
            margin: 15px 0; word-break: break-all;
        }

        /* --- INBOX VIEW --- */
        .inbox-view {
            background: var(--bg-card); border-radius: 20px; border: 1px solid var(--border);
            min-height: 300px; display: flex; flex-direction: column; overflow: hidden;
        }
        .inbox-header {
            padding: 15px; background: #1a1a1a; border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
        }
        .current-display { font-family: monospace; font-size: 0.9rem; font-weight: bold; color: #fff; }
        
        .msg-list { padding: 10px; flex: 1; overflow-y: auto; max-height: 400px; }
        
        .msg-bubble {
            background: #222; padding: 12px; border-radius: 12px; margin-bottom: 10px;
            border-left: 3px solid var(--primary); animation: slideUp 0.3s ease;
        }
        .msg-bubble.email { border-left-color: #8A2BE2; }
        .msg-top { display: flex; justify-content: space-between; margin-bottom: 6px; }
        .sender-name { font-weight: 700; font-size: 0.9rem; color: #fff; }
        .msg-body { font-size: 0.85rem; color: #ccc; line-height: 1.4; }

        /* --- BUTTONS --- */
        .btn-copy { background: transparent; border: 1px solid #444; color: #fff; padding: 5px 10px; border-radius: 8px; font-size: 0.8rem; cursor: pointer; }
        .btn-refresh { background: var(--primary); border: none; color: #fff; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .btn-generate { background: var(--primary); border: none; padding: 10px 20px; color: white; border-radius: 8px; font-weight: bold; width: 100%; cursor: pointer; }

        /* --- MODALS --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(5px);
            z-index: 2000; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: 0.3s;
        }
        .modal-overlay.show { opacity: 1; pointer-events: all; }
        
        .modal-card {
            background: #fff; width: 85%; max-width: 320px; border-radius: 20px; padding: 25px;
            text-align: center; color: #111; position: relative;
        }
        .pass-input {
            width: 100%; padding: 12px; margin: 15px 0; border: 2px solid #ddd;
            border-radius: 8px; font-size: 1rem; text-align: center; outline: none;
        }
        .pass-input:focus { border-color: var(--primary); }
        .error-msg { color: red; font-size: 0.8rem; display: none; margin-bottom: 10px; }

        /* --- BOTTOM NAV --- */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: rgba(18, 18, 18, 0.98); border-top: 1px solid var(--border);
            display: flex; justify-content: space-around; padding: 12px 5px 25px 5px; z-index: 999;
        }
        .nav-item { color: #666; text-decoration: none; font-size: 0.65rem; text-align: center; transition: 0.2s; width: 25%; }
        .nav-item div { font-size: 1.3rem; margin-bottom: 2px; }
        .nav-item.active { color: var(--primary); }
        .nav-item.active-gold { color: var(--gold); }

        /* --- TOAST --- */
        #toast {
            visibility: hidden; background-color: #333; color: #fff; text-align: center;
            border-radius: 50px; padding: 12px 24px; position: fixed; z-index: 3000;
            left: 50%; bottom: 100px; transform: translateX(-50%); opacity: 0; transition: 0.3s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 110px; }
        
        @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } 100% { transform: translateX(0); } }

    </style>
</head>
<body>

    <!-- HEADER -->
    <header>
        <div class="logo" id="logo">NEPAL<span>TEMP</span></div>
        <div class="user-status" id="userStatus">FREE PLAN</div>
    </header>

    <!-- MAIN APP -->
    <main id="mainContent">
        
        <!-- === TAB 1: NUMBERS (Home) === -->
        <div id="tab-numbers">
            <div class="section-title">Public Servers (Free)</div>
            <div class="card-list" id="numberListContainer">
                <!-- Free Numbers Generated by JS -->
            </div>

            <div class="section-title" style="color: var(--gold); margin-top: 30px;">
                üíé VIP Gold Numbers (Premium)
            </div>
            <div class="card-list" id="vipListContainer">
                <!-- VIP Numbers Generated by JS -->
            </div>
        </div>

        <!-- === TAB 2: INBOX === -->
        <div id="tab-inbox" class="hidden">
            <div class="inbox-view">
                <div class="inbox-header">
                    <div>
                        <div style="font-size:0.7rem; color:#888;">Active Number</div>
                        <div class="current-display" id="activeNumberDisplay">Select Number</div>
                    </div>
                    <div style="display:flex; gap:10px;">
                        <button class="btn-copy" onclick="copyToClip('activeNumberDisplay')">Copy</button>
                        <button class="btn-refresh" onclick="refreshList('sms')">‚Üª</button>
                    </div>
                </div>
                <div class="msg-list" id="smsContainer">
                    <div style="text-align:center; padding:40px; color:#555;">No number selected</div>
                </div>
            </div>
        </div>

        <!-- === TAB 3: TEMP MAIL === -->
        <div id="tab-mail" class="hidden">
            <div style="position: relative;">
                <div class="locked-overlay" id="lock-mail" style="border-radius: 16px; z-index: 50;">
                    <div style="margin-bottom: 10px; font-size: 2rem;">üìß</div>
                    <span>PREMIUM FEATURE</span>
                    <button class="btn-generate" style="background: var(--gold); color: black; margin-top:10px; width: auto;" onclick="handlePremiumClick()">Unlock Now</button>
                </div>

                <div class="mail-generator-box">
                    <div class="section-title" style="margin-top:0;">Secure Cloud Mail</div>
                    <div class="email-display" id="emailDisplay">Generating...</div>
                    <button class="btn-generate" onclick="generateNewEmail()">Generate New Address</button>
                </div>

                <div class="inbox-view">
                    <div class="inbox-header">
                        <div class="current-display">Inbox</div>
                        <button class="btn-refresh" onclick="refreshList('email')">‚Üª</button>
                    </div>
                    <div class="msg-list" id="emailContainer">
                        <div style="text-align:center; padding:20px; color:#555;">Inbox Empty</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- === TAB 4: SETTINGS === -->
        <div id="tab-settings" class="hidden">
            <div class="section-title">Account</div>
            <div class="generic-card" onclick="handlePremiumClick()">
                <div class="info-block"><h3>Subscription</h3></div>
                <div id="subStatus">Free</div>
            </div>
            <div class="section-title">App</div>
            <div class="generic-card" onclick="showToast('Cache Cleared')">
                <div class="info-block"><h3>Clear Data</h3></div>
            </div>
        </div>

    </main>

    <!-- PAYMENT MODAL -->
    <div class="modal-overlay" id="paymentModal">
        <div class="modal-card">
            <div style="position:absolute; right:20px; top:15px; font-size:1.5rem; cursor:pointer;" onclick="closeModal('paymentModal')">√ó</div>
            <h2 style="color:var(--esewa); margin-bottom:5px;">eSewa Payment</h2>
            <p style="font-size:0.85rem; color:#555;">Scan to Unlock Password.</p>
            
            <div style="background:#eee; padding:10px; border-radius:10px; margin:15px auto; width:fit-content;">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=eSewa-9807291227-100" style="width:150px;">
            </div>
            
            <div style="font-size:0.85rem; margin-bottom:15px; text-align:left; background:#f5f5f5; padding:8px;">
                Name: <strong>Dipesh Mahato Koiri</strong><br>
                ID: <strong>9807291227</strong><br>
                Price: <span style="color:var(--esewa)">Rs. 100</span>
            </div>

            <button class="btn-generate" style="background:var(--esewa)" onclick="window.location.href='esewa://payment'">Open eSewa</button>
            <button class="btn-generate" style="background:#333; margin-top:8px;" id="btnVerify" onclick="verifyPayment()">Verify Transaction</button>
        </div>
    </div>

    <!-- PASSWORD MODAL -->
    <div class="modal-overlay" id="passwordModal">
        <div class="modal-card">
            <h3 style="margin-bottom:10px;">üîê Vendor Security</h3>
            <p style="font-size:0.8rem; color:#666; margin-bottom:10px;">
                Enter the password provided by Dipesh after payment.
            </p>
            
            <input type="password" id="unlockPass" class="pass-input" placeholder="Enter Password">
            <div id="passError" class="error-msg">Incorrect Password! Try again.</div>
            
            <button class="btn-generate" onclick="checkPassword()">Unlock System</button>
        </div>
    </div>

    <!-- TOAST -->
    <div id="toast">Message Copied</div>

    <!-- NAVIGATION -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active" onclick="switchTab('numbers', this)">
            <div>üì±</div><span>SMS</span>
        </a>
        <a href="#" class="nav-item" onclick="switchTab('inbox', this)">
            <div>üì©</div><span>Inbox</span>
        </a>
        <a href="#" class="nav-item" id="nav-mail" onclick="switchTab('mail', this)">
            <div>üìß</div><span>Mail</span>
        </a>
        <a href="#" class="nav-item" onclick="switchTab('settings', this)">
            <div>‚öôÔ∏è</div><span>Config</span>
        </a>
    </nav>

    <!-- JAVASCRIPT -->
    <script>
        // --- STATE ---
        let isPremium = false;
        
        // --- 1. DATA: FREE NUMBERS (12+) ---
        const freeNums = [
            { n: '+977 984-1290032', t: 'ntc' },
            { n: '+977 980-3345592', t: 'ncell' },
            { n: '+977 986-7712440', t: 'ntc' },
            { n: '+977 981-8829102', t: 'ncell' },
            { n: '+977 974-5520119', t: 'ntc' },
            { n: '+977 982-4433221', t: 'ncell' },
            { n: '+977 985-1122334', t: 'ntc' },
            { n: '+977 980-9988776', t: 'ncell' },
            { n: '+977 984-5678901', t: 'ntc' },
            { n: '+977 981-1010102', t: 'ncell' },
            { n: '+977 975-3322110', t: 'ntc' },
            { n: '+977 986-9008007', t: 'ntc' }
        ];

        // --- 2. DATA: VIP NUMBERS (11+) ---
        const vipNums = [
            { n: '+977 980-0000001', label: 'Kathmandu Gold' },
            { n: '+977 981-1111111', label: 'Ncell Platinum' },
            { n: '+977 984-2222222', label: 'NTC VIP' },
            { n: '+977 985-5555555', label: 'Business Pro' },
            { n: '+977 980-1234567', label: 'Sequence Elite' },
            { n: '+977 986-9999999', label: 'Lucky 9' },
            { n: '+977 981-0070070', label: 'Agent Bond' },
            { n: '+977 974-7777777', label: 'Lucky 7' },
            { n: '+977 982-8888888', label: 'Prosperity' },
            { n: '+977 980-1010101', label: 'Binary Code' },
            { n: '+977 985-1000100', label: 'Corporate' }
        ];

        // --- 3. DATA: FAKE SMS TEMPLATES (15+) ---
        const smsTemplates = [
            { s: 'eSewa', b: 'Rs. 5,000 received from 98XXXX. Ref: 88A12.' },
            { s: 'Google', b: 'G-{otp} is your Google verification code.' },
            { s: 'Facebook', b: 'Use {otp} to verify your Instagram login.' },
            { s: 'NTC', b: 'Your data pack volume is running low. Dial *1415#.' },
            { s: 'Ncell', b: 'You have received Rs. 50 bonus balance.' },
            { s: 'Pathao', b: 'Your Pathao verification code is {otp}.' },
            { s: 'Khalti', b: 'Electricity bill payment of Rs. 1200 successful.' },
            { s: 'WhatsApp', b: 'Your WhatsApp code: {otp}. Do not share.' },
            { s: 'Daraz', b: 'Your order #DZ-{otp} is out for delivery.' },
            { s: 'NIBL', b: 'Acct *8821 Debited Rs. 500.00 on 21-NOV-2024.' },
            { s: 'WorldLink', b: 'Your internet expires in 2 days. Please renew.' },
            { s: 'TikTok', b: '[TikTok] {otp} is your verification code.' },
            { s: 'Indrive', b: 'Your driver has arrived at pickup location.' },
            { s: 'Viber', b: 'Your Viber code is {otp}.' },
            { s: 'System', b: 'Welcome to NepalTemp. Server connected.' }
        ];

        // --- INIT ---
        window.onload = function() {
            renderNumbers();
            generateNewEmail();
        };

        // --- RENDER LOGIC ---
        function renderNumbers() {
            // 1. Render Free
            const c = document.getElementById('numberListContainer');
            c.innerHTML = '';
            freeNums.forEach((obj) => {
                c.innerHTML += `
                <div class="generic-card" onclick="selectNumber('${obj.n}', false)">
                    <div class="info-block">
                        <h3>${obj.n}</h3>
                        <div class="meta-tags"><span class="badge ${obj.t}">${obj.t.toUpperCase()}</span><span>Online</span></div>
                    </div>
                </div>`;
            });

            // 2. Render VIP
            const v = document.getElementById('vipListContainer');
            v.innerHTML = '';
            vipNums.forEach((obj, idx) => {
                // Unique ID for each lock to remove later
                v.innerHTML += `
                <div class="generic-card" onclick="handleVipClick('${obj.n}')">
                    <div class="info-block">
                        <h3 style="color:var(--gold)">${obj.n}</h3>
                        <div class="meta-tags"><span class="badge gold">VIP</span><span>${obj.label}</span></div>
                    </div>
                    <div class="locked-overlay" id="lock-vip-${idx}"><span>üîí PREMIUM</span></div>
                </div>`;
            });
        }

        // --- INTERACTION LOGIC ---
        function selectNumber(num, isVip) {
            document.getElementById('activeNumberDisplay').innerText = num;
            document.querySelectorAll('.nav-item')[1].click(); // Switch to Inbox
            
            // If VIP and not unlocked, this function won't be called due to overlay.
            // If unlocked, we populate rich messages.
            populateMessages('sms');
        }

        function handleVipClick(num) {
            if(!isPremium) {
                handlePremiumClick();
            } else {
                selectNumber(num, true);
            }
        }

        // --- MESSAGING LOGIC ---
        function populateMessages(type) {
            const container = document.getElementById(type === 'sms' ? 'smsContainer' : 'emailContainer');
            container.innerHTML = '<div style="text-align:center; padding:20px;">Refreshing...</div>';
            
            setTimeout(() => {
                container.innerHTML = '';
                
                if(type === 'sms') {
                    // Add 4 random messages from templates
                    for(let i=0; i<4; i++) {
                        const t = smsTemplates[Math.floor(Math.random() * smsTemplates.length)];
                        const otp = Math.floor(100000 + Math.random() * 900000);
                        const body = t.b.replace('{otp}', `<span style="color:#fff; font-weight:bold; background:#333; padding:2px 4px; border-radius:3px;">${otp}</span>`);
                        addBubble(container, 'sms', t.s, body);
                    }
                } else {
                    addBubble(container, 'email', 'Instagram', 'Hi user, please verify your account login.');
                    addBubble(container, 'email', 'Netflix', 'Your subscription has been renewed successfully.');
                }
            }, 600);
        }

        function addBubble(container, type, sender, body) {
            container.innerHTML += `
            <div class="msg-bubble ${type}">
                <div class="msg-top"><span class="sender-name">${sender}</span><span style="font-size:0.7rem; color:#666">Just now</span></div>
                <div class="msg-body">${body}</div>
            </div>`;
        }

        // --- PREMIUM FLOW ---
        function handlePremiumClick() {
            if(isPremium) return;
            document.getElementById('paymentModal').classList.add('show');
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('show');
        }

        function verifyPayment() {
            const btn = document.getElementById('btnVerify');
            btn.innerHTML = "Verifying...";
            setTimeout(() => {
                closeModal('paymentModal');
                document.getElementById('passwordModal').classList.add('show');
                btn.innerHTML = "Verify Transaction";
            }, 2000);
        }

        function checkPassword() {
            const input = document.getElementById('unlockPass');
            if(input.value === 'dip123z') {
                isPremium = true;
                closeModal('passwordModal');
                unlockPremiumUI();
                showToast("üîì Access Granted!");
            } else {
                document.getElementById('passError').style.display = 'block';
                input.style.borderColor = 'red';
            }
        }

        function unlockPremiumUI() {
            // Hide all VIP locks
            document.querySelectorAll('.locked-overlay').forEach(el => el.style.display = 'none');
            
            // Update Header
            const logo = document.getElementById('logo');
            logo.classList.add('premium-active');
            logo.innerHTML = 'NEPAL<span style="color:#FFD700">GOLD</span>';
            document.getElementById('userStatus').innerText = 'VIP USER';
            document.getElementById('userStatus').style.background = '#FFD700';
            document.getElementById('userStatus').style.color = '#000';
            document.getElementById('subStatus').innerText = 'Premium (Active)';
            document.getElementById('nav-mail').classList.add('active-gold');
        }

        // --- UTILS ---
        function switchTab(tab, el) {
            ['numbers', 'inbox', 'mail', 'settings'].forEach(t => document.getElementById('tab-'+t).classList.add('hidden'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('tab-'+tab).classList.remove('hidden');
            el.classList.add('active');
        }

        function generateNewEmail() {
            const hash = Math.random().toString(36).substring(7);
            document.getElementById('emailDisplay').innerText = `user-${hash}@nepal-temp.com`;
            document.getElementById('emailContainer').innerHTML = '<div style="text-align:center; padding:20px; color:#555;">Waiting for mails...</div>';
            if(isPremium) setTimeout(() => populateMessages('email'), 2500);
        }

        function copyToClip(id) {
            navigator.clipboard.writeText(document.getElementById(id).innerText);
            showToast('Copied to clipboard');
        }

        function showToast(msg) {
            const t = document.getElementById("toast");
            t.innerText = msg; t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        function refreshList(type) {
            populateMessages(type);
            showToast('Inbox Refreshed');
        }
    </script>
</body>
</html>